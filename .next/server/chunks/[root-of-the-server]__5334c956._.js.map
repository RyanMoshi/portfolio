{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ryanm/portfolio-git/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport nodemailer from \"nodemailer\";\r\n\r\nconst NOTIFY_EMAIL = \"ryanmoshi77@gmail.com\";\r\n// IMPORTANT: Emails can't load images from localhost. Default to your live site,\r\n// and allow overriding via env SITE_URL when deploying elsewhere.\r\nconst SITE_URL = process.env.SITE_URL || \"https://ryan-moshi-portfolio.lindy.site\";\r\nconst SMTP_HOST = process.env.SMTP_HOST || \"smtp.gmail.com\";\r\nconst SMTP_PORT = Number(process.env.SMTP_PORT || 587);\r\nconst SMTP_USER = process.env.SMTP_USER || \"\";\r\nconst SMTP_PASS = process.env.SMTP_PASS || \"\";\r\nconst FROM_EMAIL = process.env.MAIL_FROM || \"Ryan Moshi <noreply@your-domain.com>\";\r\n\r\nasync function sendEmail(to: string, subject: string, html: string) {\r\n  if (!SMTP_USER || !SMTP_PASS) {\r\n    console.error(\"SMTP Configuration Check:\");\r\n    console.error(\"SMTP_USER:\", SMTP_USER ? \"Set\" : \"Missing\");\r\n    console.error(\"SMTP_PASS:\", SMTP_PASS ? \"Set\" : \"Missing\");\r\n    console.error(\"SMTP_HOST:\", SMTP_HOST);\r\n    console.error(\"SMTP_PORT:\", SMTP_PORT);\r\n    throw new Error(\"SMTP not configured. Set SMTP_USER and SMTP_PASS in .env.local\");\r\n  }\r\n  const transporter = nodemailer.createTransport({\r\n    host: SMTP_HOST,\r\n    port: SMTP_PORT,\r\n    secure: SMTP_PORT === 465, // true for 465, false for other ports\r\n    auth: { user: SMTP_USER, pass: SMTP_PASS },\r\n    tls: {\r\n      rejectUnauthorized: false // Allow self-signed certificates\r\n    }\r\n  });\r\n  await transporter.sendMail({ from: FROM_EMAIL, to, subject, html });\r\n}\r\n\r\nfunction renderUserTemplate(name: string, projectData: any) {\r\n  // Image URLs with fallbacks\r\n  const profileImage = `${SITE_URL}/images/ryan-profile-red.jpg`;\r\n  const retrosoftLogo = `${SITE_URL}/images/retrosoft-logo.png`;\r\n  const retroworldLogo = `${SITE_URL}/images/retroworld-logo.png`;\r\n  const dropexLogo = `${SITE_URL}/images/dropex-logo-blue.png`;\r\n  \r\n  // Format project type for display\r\n  const formatProjectType = (type: string) => {\r\n    const types: { [key: string]: string } = {\r\n      'brand-strategy': 'Brand Strategy',\r\n      'web-development': 'Web Development',\r\n      'mobile-app': 'Mobile App',\r\n      'digital-transformation': 'Digital Transformation',\r\n      'other': 'Other'\r\n    };\r\n    return types[type] || type;\r\n  };\r\n  \r\n  return `\r\n  <!DOCTYPE html>\r\n  <html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"x-apple-disable-message-reformatting\">\r\n    <title>Thank You - Ryan Moshi</title>\r\n    <!--[if mso]>\r\n    <noscript>\r\n      <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG/>\r\n          <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n      </xml>\r\n    </noscript>\r\n    <![endif]-->\r\n    <style type=\"text/css\">\r\n      /* Reset styles */\r\n      body, table, td, p, a, li, blockquote {\r\n        -webkit-text-size-adjust: 100%;\r\n        -ms-text-size-adjust: 100%;\r\n      }\r\n      table, td {\r\n        mso-table-lspace: 0pt;\r\n        mso-table-rspace: 0pt;\r\n      }\r\n      img {\r\n        -ms-interpolation-mode: bicubic;\r\n        border: 0;\r\n        height: auto;\r\n        line-height: 100%;\r\n        outline: none;\r\n        text-decoration: none;\r\n      }\r\n      \r\n      /* Mobile styles */\r\n      @media only screen and (max-width: 600px) {\r\n        .mobile-center { text-align: center !important; }\r\n        .mobile-padding { padding: 20px !important; }\r\n        .mobile-font-large { font-size: 24px !important; }\r\n        .mobile-font-medium { font-size: 16px !important; }\r\n        .mobile-button { \r\n          display: block !important; \r\n          width: 100% !important; \r\n          text-align: center !important; \r\n        }\r\n        .mobile-stack { display: block !important; width: 100% !important; }\r\n      }\r\n    </style>\r\n  </head>\r\n  <body style=\"margin:0;padding:0;background-color:#0b0f16;font-family:Arial,Helvetica,sans-serif;\">\r\n    <!-- Preheader -->\r\n    <div style=\"display:none;font-size:1px;color:#fefefe;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;\">\r\n      Thank you for your project inquiry, ${name}! I'll get back to you within 24-48 hours.\r\n    </div>\r\n    \r\n    <!-- Main Container -->\r\n    <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#0b0f16;padding:20px 0;\">\r\n      <tr>\r\n        <td align=\"center\">\r\n          <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width:600px;background-color:#111827;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.3);\">\r\n            \r\n            <!-- Header Section -->\r\n            <tr>\r\n              <td style=\"background-color:#ef4444;padding:40px 30px;text-align:center;position:relative;\">\r\n                <!-- Profile Image -->\r\n                <img src=\"${profileImage}\" alt=\"Ryan Moshi - Chief Technology & Brand Strategist\" width=\"80\" height=\"80\" style=\"border-radius:50%;border:3px solid rgba(255,255,255,0.3);display:block;margin:0 auto 16px;max-width:80px;height:auto;\" />\r\n                \r\n                <!-- Name and Title -->\r\n                <h1 style=\"margin:0;font-size:28px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;letter-spacing:-0.5px;text-shadow:0 2px 4px rgba(0,0,0,0.3);\">Ryan Moshi</h1>\r\n                <p style=\"margin:8px 0 0;font-size:16px;color:rgba(255,255,255,0.9);font-family:Arial,Helvetica,sans-serif;font-weight:500;\">Chief Technology & Brand Strategist</p>\r\n              </td>\r\n            </tr>\r\n            \r\n            <!-- Main Content -->\r\n            <tr>\r\n              <td style=\"padding:40px 30px;\" class=\"mobile-padding\">\r\n                <!-- Personalized Greeting -->\r\n                <h2 style=\"margin:0 0 20px;font-size:24px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;letter-spacing:-0.3px;\" class=\"mobile-font-large\">Thank you, ${name}!</h2>\r\n                \r\n                <!-- Confirmation Message -->\r\n                <p style=\"margin:0 0 20px;font-size:16px;line-height:1.6;color:#e5e7eb;font-family:Arial,Helvetica,sans-serif;\" class=\"mobile-font-medium\">\r\n                  Your project inquiry has been received successfully. I'm excited to learn more about your vision and how we can bring it to life together.\r\n                </p>\r\n                \r\n                <!-- Project Summary (if data available) -->\r\n                ${projectData && (projectData.projectName || projectData.projectType) ? `\r\n                <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#1f2937;border-radius:8px;margin:24px 0;border-left:4px solid #ef4444;\">\r\n                  <tr>\r\n                    <td style=\"padding:20px;\">\r\n                      <h3 style=\"margin:0 0 12px;font-size:18px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;\">Project Summary</h3>\r\n                      <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n                        ${projectData.projectName ? `\r\n                        <tr>\r\n                          <td style=\"padding:4px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Project:</strong> ${projectData.projectName}\r\n                          </td>\r\n                        </tr>\r\n                        ` : ''}\r\n                        ${projectData.projectType ? `\r\n                        <tr>\r\n                          <td style=\"padding:4px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Type:</strong> ${formatProjectType(projectData.projectType)}\r\n                          </td>\r\n                        </tr>\r\n                        ` : ''}\r\n                        ${projectData.budget ? `\r\n                        <tr>\r\n                          <td style=\"padding:4px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Budget:</strong> ${projectData.budget}\r\n                          </td>\r\n                        </tr>\r\n                        ` : ''}\r\n                        ${projectData.timeline ? `\r\n                        <tr>\r\n                          <td style=\"padding:4px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Timeline:</strong> ${projectData.timeline}\r\n                          </td>\r\n                        </tr>\r\n                        ` : ''}\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                ` : ''}\r\n                \r\n                <!-- Response Timeline -->\r\n                <p style=\"margin:0 0 24px;font-size:16px;line-height:1.6;color:#e5e7eb;font-family:Arial,Helvetica,sans-serif;\" class=\"mobile-font-medium\">\r\n                  I'll review your request carefully and get back to you within <strong style=\"color:#ef4444;\">24-48 hours</strong> with next steps and a detailed proposal.\r\n                </p>\r\n                \r\n                <!-- CTA Button -->\r\n                <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:32px 0;\">\r\n                  <tr>\r\n                    <td align=\"center\">\r\n                      <a href=\"https://ryanmoshiportfolio.vercel.app/\" style=\"display:inline-block;background-color:#ef4444;color:#ffffff;text-decoration:none;padding:16px 32px;border-radius:8px;font-weight:bold;font-size:16px;font-family:Arial,Helvetica,sans-serif;border:2px solid #ef4444;\" class=\"mobile-button\">\r\n                        🔗 View My Portfolio\r\n                      </a>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                \r\n                <!-- What's Next Section -->\r\n                <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#1f2937;border-radius:8px;margin:24px 0;\">\r\n                  <tr>\r\n                    <td style=\"padding:20px;\">\r\n                      <h3 style=\"margin:0 0 12px;font-size:18px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;\">What's Next?</h3>\r\n                      <ul style=\"margin:0;padding-left:20px;color:#d1d5db;font-size:14px;line-height:1.6;font-family:Arial,Helvetica,sans-serif;\">\r\n                        <li style=\"margin-bottom:8px;\">I'll analyze your project requirements</li>\r\n                        <li style=\"margin-bottom:8px;\">Prepare a detailed proposal with timeline and pricing</li>\r\n                        <li style=\"margin-bottom:8px;\">Schedule a discovery call to discuss your vision</li>\r\n                        <li>Begin crafting your digital solution</li>\r\n                      </ul>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n            \r\n            <!-- Footer -->\r\n            <tr>\r\n              <td style=\"background-color:#0f172a;padding:30px;text-align:center;\">\r\n                <!-- Social Media Links -->\r\n                <h3 style=\"margin:0 0 16px;font-size:18px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;\">Connect With Me</h3>\r\n                <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0 auto 20px;\">\r\n                  <tr>\r\n                    <td style=\"padding:0 8px;\">\r\n                      <a href=\"https://www.linkedin.com/in/ryan-moshi\" style=\"display:inline-block;width:40px;height:40px;background-color:#ef4444;border-radius:50%;text-align:center;line-height:40px;color:#ffffff;text-decoration:none;font-weight:bold;font-family:Arial,Helvetica,sans-serif;\">in</a>\r\n                    </td>\r\n                    <td style=\"padding:0 8px;\">\r\n                      <a href=\"https://www.instagram.com/ryan_moshi\" style=\"display:inline-block;width:40px;height:40px;background-color:#ef4444;border-radius:50%;text-align:center;line-height:40px;color:#ffffff;text-decoration:none;font-weight:bold;font-family:Arial,Helvetica,sans-serif;\">ig</a>\r\n                    </td>\r\n                    <td style=\"padding:0 8px;\">\r\n                      <a href=\"mailto:ryanemmanuelmoshi@gmail.com\" style=\"display:inline-block;width:40px;height:40px;background-color:#ef4444;border-radius:50%;text-align:center;line-height:40px;color:#ffffff;text-decoration:none;font-weight:bold;font-family:Arial,Helvetica,sans-serif;\">@</a>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                \r\n                <!-- Company Logos -->\r\n                <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:20px auto;border-top:1px solid #374151;padding-top:20px;\">\r\n                  <tr>\r\n                    <td style=\"text-align:center;padding-bottom:12px;\">\r\n                      <p style=\"margin:0 0 16px;font-size:14px;color:#9ca3af;font-family:Arial,Helvetica,sans-serif;font-weight:500;\">My Companies</p>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td style=\"text-align:center;\">\r\n                      <img src=\"${retrosoftLogo}\" alt=\"Retrosoft\" width=\"32\" height=\"32\" style=\"border-radius:4px;margin:0 8px;max-width:32px;height:auto;\" />\r\n                      <img src=\"${retroworldLogo}\" alt=\"RetroWorld Studios\" width=\"32\" height=\"32\" style=\"border-radius:4px;margin:0 8px;max-width:32px;height:auto;\" />\r\n                      <img src=\"${dropexLogo}\" alt=\"DropEx Logistics\" width=\"32\" height=\"32\" style=\"border-radius:4px;margin:0 8px;max-width:32px;height:auto;\" />\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                \r\n                <!-- Copyright -->\r\n                <p style=\"margin:0;font-size:12px;color:#6b7280;line-height:1.5;font-family:Arial,Helvetica,sans-serif;\">\r\n                  © 2025 Ryan Moshi. All rights reserved.<br>\r\n                  Building Brands. Engineering Solutions. Leading Innovation.\r\n                </p>\r\n              </td>\r\n            </tr>\r\n            \r\n          </table>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n  </html>`;\r\n}\r\n\r\nfunction renderOwnerTemplate(payload: any) {\r\n  const logo = `${SITE_URL}/images/ryan-profile-red.jpg`;\r\n  const retrosoft = `${SITE_URL}/images/retrosoft-logo.png`;\r\n  const retroworld = `${SITE_URL}/images/retroworld-logo.png`;\r\n  const dropex = `${SITE_URL}/images/dropex-logo-blue.png`;\r\n  \r\n  // Format project type for display\r\n  const formatProjectType = (type: string) => {\r\n    const types: { [key: string]: string } = {\r\n      'brand-strategy': 'Brand Strategy',\r\n      'web-development': 'Web Development',\r\n      'mobile-app': 'Mobile App',\r\n      'digital-transformation': 'Digital Transformation',\r\n      'other': 'Other'\r\n    };\r\n    return types[type] || type;\r\n  };\r\n  \r\n  return `\r\n  <!DOCTYPE html>\r\n  <html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"x-apple-disable-message-reformatting\">\r\n    <title>New Project Inquiry - Ryan Moshi</title>\r\n    <!--[if mso]>\r\n    <noscript>\r\n      <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG/>\r\n          <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n      </xml>\r\n    </noscript>\r\n    <![endif]-->\r\n    <style type=\"text/css\">\r\n      /* Reset styles */\r\n      body, table, td, p, a, li, blockquote {\r\n        -webkit-text-size-adjust: 100%;\r\n        -ms-text-size-adjust: 100%;\r\n      }\r\n      table, td {\r\n        mso-table-lspace: 0pt;\r\n        mso-table-rspace: 0pt;\r\n      }\r\n      img {\r\n        -ms-interpolation-mode: bicubic;\r\n        border: 0;\r\n        height: auto;\r\n        line-height: 100%;\r\n        outline: none;\r\n        text-decoration: none;\r\n      }\r\n      \r\n      /* Mobile styles */\r\n      @media only screen and (max-width: 600px) {\r\n        .mobile-center { text-align: center !important; }\r\n        .mobile-padding { padding: 20px !important; }\r\n        .mobile-font-large { font-size: 20px !important; }\r\n        .mobile-font-medium { font-size: 14px !important; }\r\n        .mobile-button { \r\n          display: block !important; \r\n          width: 100% !important; \r\n          text-align: center !important; \r\n        }\r\n        .mobile-stack { display: block !important; width: 100% !important; }\r\n      }\r\n    </style>\r\n  </head>\r\n  <body style=\"margin:0;padding:0;background-color:#0b0f16;font-family:Arial,Helvetica,sans-serif;\">\r\n    <!-- Preheader -->\r\n    <div style=\"display:none;font-size:1px;color:#fefefe;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;\">\r\n      New project inquiry from ${payload.name || 'Unknown'} - ${payload.projectName || 'Project Inquiry'}\r\n    </div>\r\n    \r\n    <!-- Main Container -->\r\n    <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#0b0f16;padding:20px 0;\">\r\n      <tr>\r\n        <td align=\"center\">\r\n          <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width:700px;background-color:#111827;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.3);\">\r\n            \r\n            <!-- Header -->\r\n            <tr>\r\n              <td style=\"background-color:#ef4444;padding:30px;text-align:center;\">\r\n                <img src=\"${logo}\" width=\"60\" height=\"60\" alt=\"Ryan Moshi\" style=\"border-radius:50%;border:3px solid rgba(255,255,255,0.3);display:block;margin:0 auto 12px;max-width:60px;height:auto;\" />\r\n                <h1 style=\"margin:0;font-size:24px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;letter-spacing:-0.3px;\" class=\"mobile-font-large\">New Project Inquiry</h1>\r\n                <p style=\"margin:8px 0 0;font-size:14px;color:rgba(255,255,255,0.9);font-family:Arial,Helvetica,sans-serif;\">Portfolio Contact Form</p>\r\n              </td>\r\n            </tr>\r\n            \r\n            <!-- Content -->\r\n            <tr>\r\n              <td style=\"padding:30px;\" class=\"mobile-padding\">\r\n                <!-- Project Details Card -->\r\n                <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#1f2937;border-radius:8px;margin-bottom:20px;border-left:4px solid #ef4444;\">\r\n                  <tr>\r\n                    <td style=\"padding:24px;\">\r\n                      <h2 style=\"margin:0 0 16px;font-size:20px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;\">Project Details</h2>\r\n                      \r\n                      <!-- Client Information -->\r\n                      <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin-bottom:16px;\">\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;width:30%;\">\r\n                            <strong style=\"color:#ffffff;\">Client Name:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${payload.name || 'Not provided'}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Email:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <a href=\"mailto:${payload.email}\" style=\"color:#ef4444;text-decoration:none;\">${payload.email || 'Not provided'}</a>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Project Name:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${payload.projectName || 'Not specified'}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Project Type:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${formatProjectType(payload.projectType) || 'Not specified'}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Budget:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${payload.budget || 'Not specified'}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Timeline:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${payload.timeline || 'Not specified'}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Source:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${payload.source || 'Not specified'}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            <strong style=\"color:#ffffff;\">Submitted:</strong>\r\n                          </td>\r\n                          <td style=\"padding:8px 0;color:#d1d5db;font-size:14px;font-family:Arial,Helvetica,sans-serif;\">\r\n                            ${payload.submittedAt || 'Just now'}\r\n                          </td>\r\n                        </tr>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                \r\n                <!-- Project Description Card -->\r\n                <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:#1f2937;border-radius:8px;margin-bottom:20px;\">\r\n                  <tr>\r\n                    <td style=\"padding:24px;\">\r\n                      <h3 style=\"margin:0 0 12px;font-size:18px;font-weight:bold;color:#ffffff;font-family:Arial,Helvetica,sans-serif;\">Project Description</h3>\r\n                      <p style=\"margin:0;color:#d1d5db;font-size:14px;line-height:1.6;font-family:Arial,Helvetica,sans-serif;white-space:pre-wrap;\" class=\"mobile-font-medium\">${(payload.description || 'No description provided').replace(/</g, \"&lt;\")}</p>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n                \r\n                <!-- Quick Actions -->\r\n                <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:24px 0;\">\r\n                  <tr>\r\n                    <td align=\"center\">\r\n                      <a href=\"mailto:${payload.email}?subject=Re: ${payload.projectName || 'Your Project Inquiry'}&body=Hi ${payload.name},%0D%0A%0D%0AThank you for reaching out about your project. I'd love to discuss this further with you.%0D%0A%0D%0ABest regards,%0D%0ARyan Moshi\" style=\"display:inline-block;background-color:#ef4444;color:#ffffff;text-decoration:none;padding:12px 24px;border-radius:8px;font-weight:bold;font-size:14px;font-family:Arial,Helvetica,sans-serif;border:2px solid #ef4444;\" class=\"mobile-button\">\r\n                        📧 Reply to Client\r\n                      </a>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n            \r\n            <!-- Footer -->\r\n            <tr>\r\n              <td style=\"background-color:#0f172a;padding:20px;text-align:center;\">\r\n                <div style=\"margin-bottom:16px;\">\r\n                  <p style=\"margin:0 0 12px;font-size:14px;color:#9ca3af;font-family:Arial,Helvetica,sans-serif;font-weight:500;\">Portfolio Contact System</p>\r\n                  <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0 auto;\">\r\n                    <tr>\r\n                      <td style=\"padding:0 6px;\">\r\n                        <img src=\"${retrosoft}\" width=\"24\" height=\"24\" alt=\"Retrosoft\" style=\"border-radius:4px;max-width:24px;height:auto;\" />\r\n                      </td>\r\n                      <td style=\"padding:0 6px;\">\r\n                        <img src=\"${retroworld}\" width=\"24\" height=\"24\" alt=\"RetroWorld Studios\" style=\"border-radius:4px;max-width:24px;height:auto;\" />\r\n                      </td>\r\n                      <td style=\"padding:0 6px;\">\r\n                        <img src=\"${dropex}\" width=\"24\" height=\"24\" alt=\"DropEx Logistics\" style=\"border-radius:4px;max-width:24px;height:auto;\" />\r\n                      </td>\r\n                    </tr>\r\n                  </table>\r\n                </div>\r\n                <p style=\"margin:0;font-size:12px;color:#6b7280;font-family:Arial,Helvetica,sans-serif;\">© 2025 Ryan Moshi Portfolio System</p>\r\n              </td>\r\n            </tr>\r\n            \r\n          </table>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n  </html>`;\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const data = await req.json();\r\n    const { name, email, projectName, projectType, budget, timeline, description, source } = data;\r\n\r\n    // Enhanced validation\r\n    if (!name || !email || !projectName || !projectType || !description) {\r\n      return NextResponse.json({ \r\n        error: \"Missing required fields. Please fill in all required fields.\" \r\n      }, { status: 400 });\r\n    }\r\n\r\n    // Email validation\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      return NextResponse.json({ \r\n        error: \"Please provide a valid email address.\" \r\n      }, { status: 400 });\r\n    }\r\n\r\n    // Prepare enhanced data for email templates\r\n    const enhancedData = {\r\n      name: name.trim(),\r\n      email: email.trim(),\r\n      projectName: projectName.trim(),\r\n      projectType: projectType,\r\n      budget: budget ? `$${Number(budget).toLocaleString()}` : 'Not specified',\r\n      timeline: timeline ? `${timeline} months` : 'Not specified',\r\n      description: description.trim(),\r\n      source: source || 'Not specified',\r\n      submittedAt: new Date().toLocaleString()\r\n    };\r\n\r\n    await Promise.all([\r\n      sendEmail(email, \"Thanks for reaching out to Ryan Moshi\", renderUserTemplate(name, enhancedData)),\r\n      sendEmail(NOTIFY_EMAIL, \"New Project Inquiry - Portfolio Contact\", renderOwnerTemplate(enhancedData)),\r\n    ]);\r\n\r\n    return NextResponse.json({ ok: true });\r\n  } catch (err: any) {\r\n    console.error('Contact form error:', err);\r\n    return NextResponse.json({ \r\n      error: err?.message || \"Failed to send message. Please try again later.\" \r\n    }, { status: 500 });\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,eAAe;AACrB,iFAAiF;AACjF,kEAAkE;AAClE,MAAM,WAAW,QAAQ,GAAG,CAAC,QAAQ,IAAI;AACzC,MAAM,YAAY,QAAQ,GAAG,CAAC,SAAS,IAAI;AAC3C,MAAM,YAAY,OAAO,QAAQ,GAAG,CAAC,SAAS,IAAI;AAClD,MAAM,YAAY,QAAQ,GAAG,CAAC,SAAS,IAAI;AAC3C,MAAM,YAAY,QAAQ,GAAG,CAAC,SAAS,IAAI;AAC3C,MAAM,aAAa,QAAQ,GAAG,CAAC,SAAS,IAAI;AAE5C,eAAe,UAAU,EAAU,EAAE,OAAe,EAAE,IAAY;IAChE,IAAI,CAAC,aAAa,CAAC,WAAW;QAC5B,QAAQ,KAAK,CAAC;QACd,QAAQ,KAAK,CAAC,cAAc,YAAY,QAAQ;QAChD,QAAQ,KAAK,CAAC,cAAc,YAAY,QAAQ;QAChD,QAAQ,KAAK,CAAC,cAAc;QAC5B,QAAQ,KAAK,CAAC,cAAc;QAC5B,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;QAC7C,MAAM;QACN,MAAM;QACN,QAAQ,cAAc;QACtB,MAAM;YAAE,MAAM;YAAW,MAAM;QAAU;QACzC,KAAK;YACH,oBAAoB,MAAM,iCAAiC;QAC7D;IACF;IACA,MAAM,YAAY,QAAQ,CAAC;QAAE,MAAM;QAAY;QAAI;QAAS;IAAK;AACnE;AAEA,SAAS,mBAAmB,IAAY,EAAE,WAAgB;IACxD,4BAA4B;IAC5B,MAAM,eAAe,GAAG,SAAS,4BAA4B,CAAC;IAC9D,MAAM,gBAAgB,GAAG,SAAS,0BAA0B,CAAC;IAC7D,MAAM,iBAAiB,GAAG,SAAS,2BAA2B,CAAC;IAC/D,MAAM,aAAa,GAAG,SAAS,4BAA4B,CAAC;IAE5D,kCAAkC;IAClC,MAAM,oBAAoB,CAAC;QACzB,MAAM,QAAmC;YACvC,kBAAkB;YAClB,mBAAmB;YACnB,cAAc;YACd,0BAA0B;YAC1B,SAAS;QACX;QACA,OAAO,KAAK,CAAC,KAAK,IAAI;IACxB;IAEA,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAwDgC,EAAE,KAAK;;;;;;;;;;;;;0BAavB,EAAE,aAAa;;;;;;;;;;;;6LAYoJ,EAAE,KAAK;;;;;;;;gBAQpL,EAAE,eAAe,CAAC,YAAY,WAAW,IAAI,YAAY,WAAW,IAAI,CAAC;;;;;;wBAMjE,EAAE,YAAY,WAAW,GAAG,CAAC;;;6EAGwB,EAAE,YAAY,WAAW,CAAC;;;wBAG/E,CAAC,GAAG,GAAG;wBACP,EAAE,YAAY,WAAW,GAAG,CAAC;;;0EAGqB,EAAE,kBAAkB,YAAY,WAAW,EAAE;;;wBAG/F,CAAC,GAAG,GAAG;wBACP,EAAE,YAAY,MAAM,GAAG,CAAC;;;4EAG4B,EAAE,YAAY,MAAM,CAAC;;;wBAGzE,CAAC,GAAG,GAAG;wBACP,EAAE,YAAY,QAAQ,GAAG,CAAC;;;8EAG4B,EAAE,YAAY,QAAQ,CAAC;;;wBAG7E,CAAC,GAAG,GAAG;;;;;gBAKf,CAAC,GAAG,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCA+DS,EAAE,cAAc;gCAChB,EAAE,eAAe;gCACjB,EAAE,WAAW;;;;;;;;;;;;;;;;;;SAkBpC,CAAC;AACV;AAEA,SAAS,oBAAoB,OAAY;IACvC,MAAM,OAAO,GAAG,SAAS,4BAA4B,CAAC;IACtD,MAAM,YAAY,GAAG,SAAS,0BAA0B,CAAC;IACzD,MAAM,aAAa,GAAG,SAAS,2BAA2B,CAAC;IAC3D,MAAM,SAAS,GAAG,SAAS,4BAA4B,CAAC;IAExD,kCAAkC;IAClC,MAAM,oBAAoB,CAAC;QACzB,MAAM,QAAmC;YACvC,kBAAkB;YAClB,mBAAmB;YACnB,cAAc;YACd,0BAA0B;YAC1B,SAAS;QACX;QACA,OAAO,KAAK,CAAC,KAAK,IAAI;IACxB;IAEA,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAwDqB,EAAE,QAAQ,IAAI,IAAI,UAAU,GAAG,EAAE,QAAQ,WAAW,IAAI,kBAAkB;;;;;;;;;;;;0BAY/E,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;4BAsBL,EAAE,QAAQ,IAAI,IAAI,eAAe;;;;;;;;4CAQjB,EAAE,QAAQ,KAAK,CAAC,8CAA8C,EAAE,QAAQ,KAAK,IAAI,eAAe;;;;;;;;4BAQhH,EAAE,QAAQ,WAAW,IAAI,gBAAgB;;;;;;;;4BAQzC,EAAE,kBAAkB,QAAQ,WAAW,KAAK,gBAAgB;;;;;;;;4BAQ5D,EAAE,QAAQ,MAAM,IAAI,gBAAgB;;;;;;;;4BAQpC,EAAE,QAAQ,QAAQ,IAAI,gBAAgB;;;;;;;;4BAQtC,EAAE,QAAQ,MAAM,IAAI,gBAAgB;;;;;;;;4BAQpC,EAAE,QAAQ,WAAW,IAAI,WAAW;;;;;;;;;;;;;+KAa+G,EAAE,CAAC,QAAQ,WAAW,IAAI,yBAAyB,EAAE,OAAO,CAAC,MAAM,QAAQ;;;;;;;;;sCASpN,EAAE,QAAQ,KAAK,CAAC,aAAa,EAAE,QAAQ,WAAW,IAAI,uBAAuB,SAAS,EAAE,QAAQ,IAAI,CAAC;;;;;;;;;;;;;;;;;kCAiBzG,EAAE,UAAU;;;kCAGZ,EAAE,WAAW;;;kCAGb,EAAE,OAAO;;;;;;;;;;;;;;SAclC,CAAC;AACV;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG;QAEzF,sBAAsB;QACtB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,eAAe,CAAC,aAAa;YACnE,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,mBAAmB;QACnB,MAAM,aAAa;QACnB,IAAI,CAAC,WAAW,IAAI,CAAC,QAAQ;YAC3B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,4CAA4C;QAC5C,MAAM,eAAe;YACnB,MAAM,KAAK,IAAI;YACf,OAAO,MAAM,IAAI;YACjB,aAAa,YAAY,IAAI;YAC7B,aAAa;YACb,QAAQ,SAAS,CAAC,CAAC,EAAE,OAAO,QAAQ,cAAc,IAAI,GAAG;YACzD,UAAU,WAAW,GAAG,SAAS,OAAO,CAAC,GAAG;YAC5C,aAAa,YAAY,IAAI;YAC7B,QAAQ,UAAU;YAClB,aAAa,IAAI,OAAO,cAAc;QACxC;QAEA,MAAM,QAAQ,GAAG,CAAC;YAChB,UAAU,OAAO,yCAAyC,mBAAmB,MAAM;YACnF,UAAU,cAAc,2CAA2C,oBAAoB;SACxF;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO,KAAK,WAAW;QACzB,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}